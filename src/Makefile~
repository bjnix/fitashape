# Makefile for Irrlicht Examples
# It's usually sufficient to change just the target name and source file list
# and be sure that CXX is set to a valid compiler
Target = fitashape
Sources = Main.cpp Player.cpp Game.cpp

FIT_INC = -I../include 
X11_INC = -I/usr/X11R6/include
#LOCAL_INC = -I./include

# general compiler settings
CPPFLAGS = $(X11_INC) $(FIT_INC)
CXXFLAGS = -std=c++0x -O3 -ffast-math -g -Wall 

#default target is Linux
all: all_linux

ifeq ($(HOSTTYPE), x86_64)
LIBSELECT=64
endif
X11_LIBS= -L/usr/X11R6/lib$(LIBSELECT) -lGL -lXxf86vm -lXext -lX11 -lXcursor 
IRR_LIBS = -L../lib/irrlicht -lIrrlicht
VICON_LIBS = -L../lib/vicon-libs -Wl,-rpath,../lib/vicon-libs -lViconDataStreamSDK_CPP
VII_LIBS = -L../lib -Wl,-rpath,../lib -lVII
# If sound enabled, add the proper library for linking
#LDFLAGS += -lIrrKlang
#LDFLAGS += -laudiere
#LDFLAGS += -lSDL_mixer -lSDL


# target specific settings
all_linux: LDFLAGS = $(X11_LIBS) $(IRR_LIBS) $(VICON_LIBS) $(VII_LIBS)
all_linux clean_linux: SYSTEM = Linux
all_win32: LDFLAGS = -L../irrlicht/lib/Win32-gcc -lIrrlicht -lopengl32 -lm
all_win32: CPPFLAGS += -D__GNUWIN32__ -D_WIN32 -DWIN32 -D_WINDOWS -D_MBCS -D_USRDLL
all_win32 clean_win32: SYSTEM=Win32-gcc
all_win32 clean_win32: SUF=.exe
# name of the binary - only valid for targets which set SYSTEM
#DESTPATH = ../bin/$(SYSTEM)/$(Target)$(SUF)
DESTPATH = ../bin/$(Target)
OBJ = $(Sources:.cpp=.o)

all_linux all_win32:$(OBJ) 
	$(warning Building...)
	$(CXX) -g $(CPPFLAGS) $(CXXFLAGS) $^ -o $(DESTPATH) $(LDFLAGS) 

clean: clean_linux clean_win32
	$(warning Cleaning...)

clean_linux clean_win32:
	@$(RM) $(DESTPATH)

.PHONY: all all_win32 clean clean_linux clean_win32
